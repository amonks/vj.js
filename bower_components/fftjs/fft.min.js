var FFTJS=function(){function e(){console.log("in init");try{a=new webkitAudioContext}catch(b){alert("you need webaudio support"+b)}}function f(b){e();var f=a.createMediaStreamSource(b);c=a.createAnalyser(),c.fftSize=d,f.connect(c),isSetup=!0}API={};var a,c,d;isSetup=!1,API.setup=function(){return isSetup},API.init=function(a){d=a,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia,navigator.getUserMedia({audio:!0},f,g)},API.fft=function(){if(API.setup()){var a=new Uint8Array(c.frequencyBinCount);return c.getByteFrequencyData(a),a}return[]};var g=function(a){console.log("The following error occured: "+a)};return API};
