define(["jquery","app/fft","vendor/processing","app/params"],function(e,t,n,r){var i,s,o={};return o.init=function(){e("#snap-content").append('<canvas id="squares" class="container">'),s=function(e){function l(e,t){this.x=e,this.y=t,this.add=function(e){this.x+=e.x,this.y+=e.y},this.times=function(e){this.x*=e.x,this.y*=e.y}}function c(t,r,s,o){this.acceleration=new l(0,.5),this.velocity=r,this.radius=300,this.position=t,this.hue=o,this.rotation=0,this.rotVelocity=s,this.is_in_bounds=function(){return this.position.x>n||this.position.x<0?!1:!0},this.update=function(){this.position.add(this.velocity),this.rotation+=this.rotVelocity,this.bounce()},this.draw=function(){u===!0?e.fill(this.hue,50,100,.5):e.fill(this.hue,50,100,1),e.pushMatrix(),e.translate(this.position.x,this.position.y),e.rotate(e.radians(this.rotation)),e.translate(this.radius/-2,this.radius/-2),e.rect(0,0,this.radius,this.radius),e.popMatrix()},this.bounce=function(){this.position.y>i&&(this.position.y=i,this.velocity.times(new l(1,-1)),this.damage()),this.position.y<0&&(this.position.y=0,this.velocity.times(new l(1,-1)),this.damage()),this.position.x>n&&(this.position.x=n,this.velocity.times(new l(-1,1)),this.damage()),this.position.x<0&&(this.position.x=0,this.velocity.times(new l(-1,1)),this.damage())},this.damage=function(){this.rotVelocity=-this.rotVelocity}}var t,n=window.innerWidth,i=window.innerHeight,s=n/2,o=i/2;e.size(n,i);var u=!1,a=!1,f=[];e.setup=function(){e.noStroke(),e.textSize(32),e.colorMode(e.HSB,360,100,100,1)},newPony=function(e,t,n,r){var i=new c(e,t,n,r);f.push(i)},e.draw=function(){t=r.getParams(),e.background(0,0,100,0);for(var n in f)f[n].update(),f[n].draw();if(e.frameCount%2===0&&a===!0){var i=new l(t[0].value/127*10-5,t[1].value/127*10-5),s=t[2].value/127*10-5,o=t[3].value/127*360;console.log(o),newPony(new l(e.mouseX,e.mouseY),i,s,o)}},e.keyPressed=function(){switch(e.key.toString()){case"c":case"C":f=[];break;case"t":case"T":u=!u}console.log(e.key)},e.mousePressed=function(){a=!0},e.mouseReleased=function(){a=!1}},i=new Processing(document.getElementById("squares"),s)},o.destroy=function(){e("#squares").remove()},o.reOrder=function(t){e("#squares").css("z-index",100-parseInt(t))},o});