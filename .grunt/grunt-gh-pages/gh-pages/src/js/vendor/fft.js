var FFTJS=function(){function i(){console.log("in init");try{e=new webkitAudioContext}catch(t){alert("you need webaudio support"+t)}}function s(t){i();var s=e.createMediaStreamSource(t);n=e.createAnalyser(),n.fftSize=r,s.connect(n),isSetup=!0}API={};var e,t,n,r;isSetup=!1,API.setup=function(){return isSetup},API.init=function(e){r=e,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia,navigator.getUserMedia({audio:!0},s,o)},API.fft=function(){if(API.setup()){var e=new Uint8Array(n.frequencyBinCount);return n.getByteFrequencyData(e),e}return[]};var o=function(e){console.log("The following error occured: "+e)};return API};